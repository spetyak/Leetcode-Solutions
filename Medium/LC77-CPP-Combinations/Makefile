
#--------------------------------------------------------------------------------
# Choose compiler and options
#--------------------------------------------------------------------------------

CC = g++
OPTS = -O0 -std=c++11
DEBUG = -g

#--------------------------------------------------------------------------------
# Add directory names
#--------------------------------------------------------------------------------
# default
SRCDIR=./src
OBJDIR=./obj
INCDIR=./inc
BINDIR=.

#--------------------------------------------------------------------------------
# Add source files (use \ to continute line, not neeeded for last file)
#--------------------------------------------------------------------------------
# default
SRCS=$(SRCDIR)/lc77.cpp

#--------------------------------------------------------------------------------
# Set compilation flags
#--------------------------------------------------------------------------------
INCLUDE = $(addprefix -I,$(INCDIR))
OBJS = $(SRCS:$(SRCDIR)/%.cpp=$(OBJDIR)/%.o)
CFLAGS = $(OPTS) $(INCLUDE) $(DEBUG)

#--------------------------------------------------------------------------------
# Put together all make instructions to create object files and executable
#--------------------------------------------------------------------------------
TARGET = $(BINDIR)/lc77

all: $(TARGET) 

$(TARGET): $(OBJS)
	$(CC) $(CFLAGS) -o $@ $(OBJS)

$(OBJS): $(OBJDIR)/%.o : $(SRCDIR)/%.cpp
	$(CC) $(CFLAGS) -c $< -o $@

#--------------------------------------------------------------------------------
# Removes all object files, but not executable
#--------------------------------------------------------------------------------
clean:
	rm -f $(OBJS)

#--------------------------------------------------------------------------------
# Removes object files AND executable
#--------------------------------------------------------------------------------
cleanall:
	rm -f $(OBJS) $(BINDIR)/lc77